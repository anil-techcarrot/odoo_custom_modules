<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="import_tech_attendance_tree_view" model="ir.ui.view">
			<field name="name">import.attendance.tree.view</field>
			<field name="model">import.attendance</field>
			<field name="arch" type="xml">
				<list string="Import Attendance">
					<field name="date"/>
					<field name="month"/>
					<field name="year"/>
					<field name="no_employee"/>
					<field name="state" decoration-info="state in ('imported')"
                       decoration-success="state == 'draft'"
                       decoration-muted="state == 'validate'" widget="badge"/>
				</list>
			</field>
		</record>

		<record id="import_tech_attendance_form_view" model="ir.ui.view">
			<field name="name">import.attendance.form.view</field>
			<field name="model">import.attendance</field>
			<field name="arch" type="xml">
			<form string="Import Attendance">
				<header>
					<button name="rollback_data" invisible="state not in ('imported')" string="Rollback Import" type="object" class="oe_highlight"/>
					<button name="validate_data" invisible="state not in ('draft')" string="Validate Data" type="object" class="oe_highlight"/>
					<button name="import_attendance" invisible="state not in ('validate')" string="Import" type="object" class="oe_highlight"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,validate,imported"/>
				</header>
				<sheet>
					<group>
						<group>
							<field name="file" placeholder="Upload File" nolabel="1" readonly="state in ('validate','imported')"/>
							<field name="no_employee" invisible="1"/>
						</group>
						<group>
							<field name="date" readonly="1" force_save="1"/>
						</group>
					</group>
					<group>
						<group>
							<field name="month" invisible="not file" readonly="1" force_save="1"/>
							<field name="year" invisible="not file" readonly="1" force_save="1"/>
							<field name="file_type" widget="radio" invisible="1"/>
							<field name="no_employee" invisible="1"/>
						</group>
					</group>
					<group>
						<field name="attendance_data_ids" nolabel="1" readonly="state in ('validate','imported')" force_save="1" string="Stock Data">
							<list editable="top">
								<field name="month" column_invisible="1" readonly="0" force_save="1"/>
								<field name="year" column_invisible="1" readonly="0" force_save="1"/>
								<field name="rental_order"/>
								<field name="sale_id" column_invisible="0" readonly="0" force_save="1"/>
								<field name="emp_code"/>
								<field name="employee_id" column_invisible="0" readonly="0" force_save="1"/>
								<field name="worked_qty"/>
								<field name="uom"/>
							</list>
						</field>
					</group>
				</sheet>
				<chatter/>
			</form>
			</field>
		</record>

		<record id="import_tech_attendance_action" model="ir.actions.act_window">
            <field name="name">Import Attendance</field>
            <field name="res_model">import.attendance</field>
            <field name="view_mode">list,form</field>
        </record>

		<menuitem id="menu_gt_import_attendance_main" name="Import Attendance" action="import_tech_attendance_action" parent="sale_renting.rental_menu_root" sequence="2"/>

	</data>
</odoo>
