<?xml version="1.0" encoding="utf-8" ?>
<odoo>


    <record id="account_move_inherit_view" model="ir.ui.view">
        <field name="name">account.move.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form" />
        <field name="arch" type="xml">
            <xpath expr="//div[@name='journal_div']" position="after">
                <field name="doc_no" invisible="move_type != 'in_invoice'"/>
                <field name="cust_inv_date" invisible="move_type != 'in_invoice'"/>
                <field name="project_id" domain="[('project_code', '!=', False)]" options="{'no_create': True}" 
                       invisible="move_type != 'out_invoice'"/>
                <button name="action_update_project_codes" string="Update All Lines" 
                        type="object" class="oe_link" 
                        invisible="move_type != 'out_invoice' or not project_id"
                        help="Update all invoice lines with the selected project code"/>
            </xpath>
            <xpath expr="//button[@name='preview_invoice']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//page[@id='aml_tab']/field/list/field[@name='partner_id']" position="after">
                <field name="employee_id" column_invisible="1"/>
                <field name="product_id" string="Employee" domain="[('employee_id', '!=', False)]"/>
                <field name="emp_code" column_invisible="0"/>
                <field name="project_code"/>
<!--                <field name="domain_project_ids" widget="many2many_tags" column_invisible="1"></field>-->
            </xpath>
            <xpath expr="//page[@id='invoice_tab']/field/list/field[@name='account_id']" position="after">
                <field name="project_code"/>
            </xpath>
<!--            <xpath expr="//field[@name='invoice_line_ids']/list/field[@name='product_id']" position='after'>-->
<!--               <button class="oe_stat_button" name="inv_action_replace_product_desc"-->
<!--                                    type="object" icon="fa-bars" style="width:20 px" help="Click or press enter to add a description"-->
<!--                                    invisible="parent.state != 'posted'">-->
<!--               </button>-->

<!--            </xpath>-->
        </field>
    </record>


<!--    <record id="account_move_deferred_entry_inherit_view" model="ir.ui.view">-->
<!--        <field name="name">account.move.form</field>-->
<!--        <field name="model">account.move</field>-->
<!--        <field name="inherit_id" ref="account_accountant.view_move_form_inherit" />-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//button[@name='open_deferred_entries']" position="replace">-->
<!--                <button name="open_deferred_entries"-->
<!--                        class="oe_stat_button"-->
<!--                        icon="fa-bars"-->
<!--                        type="object"-->
<!--                        invisible="True"-->
<!--                        string="Deferred Entries123">-->
<!--                </button>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->

</odoo>
